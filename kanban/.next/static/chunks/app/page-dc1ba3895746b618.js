(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{3249:function(e,t,r){Promise.resolve().then(r.bind(r,3192))},8233:function(e,t,r){"use strict";r.d(t,{o:function(){return s},Y:function(){return m}});var a=r(7437),n=r(1039),d=r(2975),o=r.n(d);function s(e){let{board:t,onClick:r,actions:d,isActive:s}=e,c=t.columns.reduce((e,t)=>e+t.cards.length,0);return(0,a.jsxs)("div",{className:(0,n.cn)(o().card,s&&o().active),onClick:r,children:[(0,a.jsxs)("div",{className:o().content,children:[(0,a.jsx)("h3",{className:o().title,children:t.title}),(0,a.jsxs)("div",{className:o().stats,children:[(0,a.jsxs)("span",{children:[t.columns.length," columns"]}),(0,a.jsxs)("span",{children:[c," cards"]})]})]}),d&&(0,a.jsx)("div",{className:o().actions,onClick:e=>e.stopPropagation(),children:d})]})}var c=r(9625),l=r(6885),i=r(9360);let u=["To Do","In Progress","Done"],m=(0,c.Ue)()((0,l.tJ)((e,t)=>({boards:[],currentBoardId:null,createBoard:t=>{let r=new Date().toISOString(),a=(0,i.Z)(),n=u.map((e,t)=>({id:(0,i.Z)(),title:e,boardId:a,order:t,cards:[],createdAt:r})),d={id:a,title:t.title,columns:n,createdAt:r,updatedAt:r};return e(e=>({boards:[...e.boards,d],currentBoardId:a})),d},updateBoard:(t,r)=>{e(e=>({boards:e.boards.map(e=>e.id===t?{...e,title:r,updatedAt:new Date().toISOString()}:e)}))},deleteBoard:t=>{e(e=>({boards:e.boards.filter(e=>e.id!==t),currentBoardId:e.currentBoardId===t?null:e.currentBoardId}))},setCurrentBoard:t=>{e({currentBoardId:t})},getCurrentBoard:()=>{let{boards:e,currentBoardId:r}=t();return e.find(e=>e.id===r)||null},createColumn:t=>{let r=new Date().toISOString();e(e=>({boards:e.boards.map(e=>{if(e.id!==t.boardId)return e;let a={id:(0,i.Z)(),title:t.title,boardId:t.boardId,order:e.columns.length,cards:[],createdAt:r};return{...e,columns:[...e.columns,a],updatedAt:r}})}))},updateColumn:(t,r)=>{e(e=>({boards:e.boards.map(e=>({...e,columns:e.columns.map(e=>e.id===t?{...e,title:r}:e),updatedAt:new Date().toISOString()}))}))},deleteColumn:t=>{e(e=>({boards:e.boards.map(e=>({...e,columns:e.columns.filter(e=>e.id!==t),updatedAt:new Date().toISOString()}))}))},createCard:t=>{let r=new Date().toISOString();e(e=>({boards:e.boards.map(e=>({...e,columns:e.columns.map(e=>{if(e.id!==t.columnId)return e;let a={id:(0,i.Z)(),title:t.title,description:t.description,columnId:t.columnId,order:e.cards.length,createdAt:r,updatedAt:r};return{...e,cards:[...e.cards,a]}}),updatedAt:r}))}))},updateCard:(t,r)=>{let a=new Date().toISOString();e(e=>({boards:e.boards.map(e=>({...e,columns:e.columns.map(e=>({...e,cards:e.cards.map(e=>e.id===t?{...e,...r,updatedAt:a}:e)})),updatedAt:a}))}))},deleteCard:t=>{e(e=>({boards:e.boards.map(e=>({...e,columns:e.columns.map(e=>({...e,cards:e.cards.filter(e=>e.id!==t)})),updatedAt:new Date().toISOString()}))}))},moveCard:(t,r,a)=>{e(e=>{let n=null,d=e.boards.map(e=>({...e,columns:e.columns.map(e=>{let r=e.cards.findIndex(e=>e.id===t);return -1!==r?(n={...e.cards[r]},{...e,cards:e.cards.filter(e=>e.id!==t)}):e})}));return n?{boards:d.map(e=>({...e,columns:e.columns.map(e=>{if(e.id!==r)return e;let t=[...e.cards],d={...n,columnId:r,order:a,updatedAt:new Date().toISOString()};return t.splice(a,0,d),{...e,cards:t.map((e,t)=>({...e,order:t}))}}),updatedAt:new Date().toISOString()}))}:e})}}),{name:"kanban-boards"}))},3192:function(e,t,r){"use strict";r.d(t,{HomePage:function(){return i}});var a=r(7437),n=r(2265),d=r(9376),o=r(3279),s=r(8233),c=r(4421),l=r.n(c);function i(){let e=(0,d.useRouter)(),[t,r]=(0,n.useState)(!1),[c,i]=(0,n.useState)(""),u=(0,s.Y)(e=>e.boards),m=(0,s.Y)(e=>e.createBoard),_=(0,s.Y)(e=>e.deleteBoard),p=()=>{if(!c.trim())return;let t=m({title:c.trim()});i(""),r(!1),e.push("/board/".concat(t.id))},f=e=>{window.confirm("Are you sure you want to delete this board?")&&_(e)};return(0,a.jsxs)("div",{className:l().container,children:[(0,a.jsxs)("header",{className:l().header,children:[(0,a.jsx)("h1",{className:l().title,children:"Kanban Boards"}),(0,a.jsx)(o.zx,{onClick:()=>r(!0),children:"Create Board"})]}),(0,a.jsx)("main",{className:l().main,children:0===u.length?(0,a.jsxs)("div",{className:l().empty,children:[(0,a.jsx)("p",{children:"No boards yet. Create your first board to get started!"}),(0,a.jsx)(o.zx,{onClick:()=>r(!0),children:"Create Your First Board"})]}):(0,a.jsx)("div",{className:l().grid,children:u.map(t=>(0,a.jsx)(s.o,{board:t,onClick:()=>e.push("/board/".concat(t.id)),actions:(0,a.jsx)(o.zx,{variant:"danger",size:"sm",onClick:()=>f(t.id),children:"Delete"})},t.id))})}),(0,a.jsx)(o.u_,{isOpen:t,onClose:()=>r(!1),title:"Create New Board",children:(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault(),p()},className:l().form,children:[(0,a.jsx)(o.II,{value:c,onChange:e=>i(e.target.value),placeholder:"Board title",autoFocus:!0}),(0,a.jsxs)("div",{className:l().formActions,children:[(0,a.jsx)(o.zx,{type:"submit",disabled:!c.trim(),children:"Create"}),(0,a.jsx)(o.zx,{type:"button",variant:"secondary",onClick:()=>r(!1),children:"Cancel"})]})]})})]})}},1039:function(e,t,r){"use strict";r.d(t,{cn:function(){return n}});var a=r(1994);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.W)(t)}r(2265)},3279:function(e,t,r){"use strict";r.d(t,{zx:function(){return c},II:function(){return u},u_:function(){return f}});var a=r(7437),n=r(2265),d=r(1039),o=r(204),s=r.n(o);let c=(0,n.forwardRef)((e,t)=>{let{className:r,variant:n="primary",size:o="md",fullWidth:c,children:l,...i}=e;return(0,a.jsx)("button",{ref:t,className:(0,d.cn)(s().button,s()[n],s()[o],c&&s().fullWidth,r),...i,children:l})});c.displayName="Button";var l=r(2684),i=r.n(l);let u=(0,n.forwardRef)((e,t)=>{let{className:r,error:n,...o}=e;return(0,a.jsxs)("div",{className:i().wrapper,children:[(0,a.jsx)("input",{ref:t,className:(0,d.cn)(i().input,n&&i().error,r),...o}),n&&(0,a.jsx)("span",{className:i().errorText,children:n})]})});u.displayName="Input";var m=r(4887),_=r(702),p=r.n(_);function f(e){let{isOpen:t,onClose:r,children:d,title:o}=e;return((0,n.useEffect)(()=>{let e=e=>{"Escape"===e.key&&r()};return t&&(document.addEventListener("keydown",e),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",e),document.body.style.overflow="unset"}},[t,r]),t)?(0,m.createPortal)((0,a.jsx)("div",{className:p().overlay,onClick:r,children:(0,a.jsxs)("div",{className:p().modal,onClick:e=>e.stopPropagation(),children:[o&&(0,a.jsxs)("div",{className:p().header,children:[(0,a.jsx)("h2",{className:p().title,children:o}),(0,a.jsx)("button",{className:p().closeButton,onClick:r,children:"\xd7"})]}),(0,a.jsx)("div",{className:p().content,children:d})]})}),document.body):null}var h=r(9375),b=r.n(h);(0,n.forwardRef)((e,t)=>{let{className:r,children:n,...o}=e;return(0,a.jsx)("div",{ref:t,className:(0,d.cn)(b().card,r),...o,children:n})}).displayName="Card"},2975:function(e){e.exports={card:"BoardCard_card__Zum8K",active:"BoardCard_active__AUlkm",content:"BoardCard_content__okQ9L",title:"BoardCard_title__GihpL",stats:"BoardCard_stats__G8kFo",actions:"BoardCard_actions__EUff4"}},4421:function(e){e.exports={container:"HomePage_container__ljnfA",header:"HomePage_header__nCpOe",title:"HomePage_title__aZojn",main:"HomePage_main__PpKef",empty:"HomePage_empty___CHd0",grid:"HomePage_grid__ucEoY",form:"HomePage_form__VpEX1",formActions:"HomePage_formActions__shA6f"}},204:function(e){e.exports={button:"Button_button__Y6_d8",primary:"Button_primary__XP_1l",secondary:"Button_secondary__kXaGA",ghost:"Button_ghost__tVo44",danger:"Button_danger__INEqY",sm:"Button_sm__0rL9A",md:"Button_md__7XQ9Z",lg:"Button_lg__0l0Iu",fullWidth:"Button_fullWidth__acaTW"}},9375:function(e){e.exports={card:"Card_card__f04b_"}},2684:function(e){e.exports={wrapper:"Input_wrapper__aPlm5",input:"Input_input__BBbsV",error:"Input_error__xjTMX",errorText:"Input_errorText__CYvK9"}},702:function(e){e.exports={overlay:"Modal_overlay__f_tQB",modal:"Modal_modal__GWr2T",header:"Modal_header__pTMZy",title:"Modal_title__GcFHv",closeButton:"Modal_closeButton__Q_XLC",content:"Modal_content__bb2J1"}}},function(e){e.O(0,[950,266,971,117,744],function(){return e(e.s=3249)}),_N_E=e.O()}]);